<!DOCTYPE html>
<html>
<head>
	<title>Exercice 05</title>
	<link rel="stylesheet" type="text/css" href="styles/style.css">
</head>
<body>
	<svg id="leSVG" width="1000" height="500" viewBox="-50 -50 1000 500" preserveAspectRatio="xMidYMid slice">
		<path d="M 150 0 L 75 200 L 225 200 Z"/>
	</svg>

	<script>
		var triangle = document.querySelectorAll('#leSVG path')[0];
		var longueur = triangle.getTotalLength();
		//console.log(longueur);
		triangle.style.strokeDasharray = longueur;
		triangle.style.strokeDashoffset = longueur;
		window.addEventListener("scroll", unTrace);

		function unTrace() {
			console.log('scrollTop de body = ' + document.body.scrollTop);
			console.log('scrollTop de documentElement = ' + document.documentElement.scrollTop);
			console.log('scrollHeight de documentElement = ' + document.documentElement.scrollHeight);
			console.log('clientHeight de documentElement = ' + document.documentElement.clientHeight);

			var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

			var trace = longueur * fractionDuScroll;

			triangle.style.strokeDashoffset = longueur - trace;
		}
	</script>
</body>
</html>