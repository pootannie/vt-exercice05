<!DOCTYPE html>
<html>
<head>
	<title>Exercice 05</title>
	<link rel="stylesheet" type="text/css" href="styles/style.css">
</head>
<body>
	<svg id="lesSVG" width="1000" height="500" preserveAspectRatio="xMidYMid slice">
		<path d="M 50 0 L 75 100 L 25 100 Z"/>
		<path d="M 150 0 L 250 0 250 100 150 100 Z"/>
		<!--<path d="M11.6 269s-19.7-42.4 6.06-68.2 48.5-6.06 59.1 12.1l-3.03 28.8 209-227s45.5-21.2 60.6 1.52c15.2 22.7-3.03 47-3.03 47l-225 229s33.1-12 48.5 7.58c50 63.6-50 97-62.1 37.9"/>-->
		<path d="M 300 0 L 400 250 300 250 Z"/>
		<path d="M450 0 C 470 20, 490 20, 500 10" stroke="black" fill="transparent"/>
		<path d="M300,250a200,200 0 1,0 400,0a200,200 0 1,0 -400,0"/>

	</svg>

	<script>
		var formes = [];
		var longueurs = [];
		formes = document.querySelectorAll('#lesSVG path')

		for(var i=0; i < formes.length; i++){
			longueurs[i] = formes[i].getTotalLength();

			formes[i].style.strokeDashoffset = longueurs[i];
			formes[i].style.strokeDasharray = longueurs[i];

			window.addEventListener("scroll", unTrace)
		}

		function unTrace() {
			var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

			for (var j = 0; document.querySelectorAll("#lesSVG path").length; j++) {
				var trace = longueurs[j] * fractionDuScroll;
				document.querySelectorAll("#lesSVG path")[j].style.strokeDashoffset = longueurs[j] - trace;
			}
		}
	</script>
</body>
</html>